openapi: 3.0.1
info:
  title: Paysage API.
  description: Documentation for the Paysage rest API routes.
  contact:
    email: frederic.olland@enseignementsup.gouv.fr
  license:
    name: MIT
    url: 'https://github.com/dataesr/paysage-api/LICENCE.md'
  version: 1.0.0
servers:
  - url: 'https://api.paysage.staging.dataesr.ovh/'
    description: Staging server
  - url: 'https://api.paysage.dataesr.ovh/'
    description: Production server
  - url: 'http://localhost:3000/'
    description: Development server

tags:
  - name: Structures
    description: Operation for the Structure object.
  - name: Events
    description: Access event logs  of object changes.
  - name: Categories
    description: Operation for the Category object.

security:
  - Authentication: []

paths:
  ### EVENTS ##
  '/events':
    $ref: './modules/events/path/events.yml'
  # '/categories/{categoryId}':
  #   $ref: './modules/categories/path/category.yml'

  ### CATEGORIES ##
  # '/categories':
  #   $ref: './modules/categories/path/categories.yml'
  # '/categories/{categoryId}':
  #   $ref: './modules/categories/path/category.yml'

  ### OFFICIAL DOCUMENTS ##
  # '/official-documents':
  #   $ref: './modules/official-documents/path/official-documents.yml'
  # '/official-documents/{officialDocumentId}':
  #   $ref: './modules/official-documents/path/official-document.yml'

  ### STRUCTURE ###
  '/structures':
    $ref: './modules/structures/path/structures.yml'
  '/structures/{structureId}':
    $ref: './modules/structures/path/structure.yml'
  '/structures/{structureId}/status':
    $ref: './modules/structures/path/status.yml'
  '/structures/{structureId}/identifiers':
    $ref: './modules/structures/path/identifiers.yml'
  '/structures/{structureId}/identifiers/{identifierId}':
    $ref: './modules/structures/path/identifier.yml'
  '/structures/{structureId}/names':
    $ref: './modules/structures/path/names.yml'
  '/structures/{structureId}/names/{nameId}':
    $ref: './modules/structures/path/name.yml'
  '/structures/{structureId}/localisations':
    $ref: './modules/structures/path/localisations.yml'
  '/structures/{structureId}/localisations/{localisationId}':
    $ref: './modules/structures/path/localisation.yml'

components:
  parameters:
    $ref: './parameters/_index.yml'

  responses:
    $ref: './responses/_index.yml'

  schemas:
    $ref: './schemas/_index.yml'
    
  securitySchemes:
    Authentication:
      type: http
      scheme: bearer
      description: Authentication with a Bearer token.